---
layout: post
author: Lionel Pigou
title: "Voxel Meshing on GPU: Naive Surface Nets"
tags: [game development, graphics, voxel]
date: 2021-01-01
---

**_Disclaimer_**: The text in this post is generated by an AI chatbot based on a few bullet points.


<!-- Prompt:
Write a blog post in markdown titled "Voxel Meshing on GPU: Naive Surface Nets". Go a deeper for each pointer and improve my English writing.
Context: my game Meor is a smooth voxel game that runs mostly on GPU.
Content:
- Naive Surface Nets is a simplified version of the Dual Contouring method.
- I implemented the Naive Surface Nets method on GPU where we produce triangles for each voxel in parrallel
- The voxel grids store a truncated signed distance field (sdf), 1 grid for each LOD (level of detail). this SDF is used to create triangles in the method.
- The mesh is reconstructed each frame to support highly dynamic terrain like water simulations
- I use frustum and occlusion culling to omit drawn triangles every frame
-->

{% include image.html url="/assets/images/projects/interact.gif" height="180px" %}

Naive Surface Nets is a simplified version of the Dual Contouring method. While Dual Contouring offers more accurate results, Naive Surface Nets provides a good compromise between simplicity and performance. It allows for the generation of smooth and visually appealing voxel meshes efficiently.

## Implementing Naive Surface Nets on the GPU

In Meor, I took on the challenge of implementing the Naive Surface Nets algorithm on the GPU. This approach has numerous advantages, particularly when dealing with large voxel grids. By utilizing the parallel processing power of the GPU, I was able to generate triangles for each voxel simultaneously, significantly improving performance.

To enable efficient mesh generation, I store voxel grids as truncated signed distance fields (SDFs). Each level of detail (LOD) has its own grid, which helps control the amount of detail rendered based on the distance from the viewer. The SDFs are vital in determining the shape and positioning of the resulting triangles during the meshing process.

## Dynamic Terrain and Real-Time Reconstruction

One of the primary challenges in Meor is the requirement for highly dynamic terrain. This includes dynamic elements such as water simulations, which necessitate frequent updates to the voxel mesh. To achieve this, I reconstruct the mesh every frame.

By utilizing the power of the GPU, I can efficiently compute the necessary geometry for the updated voxel data, resulting in a visually consistent and fluid terrain. This real-time reconstruction allows for seamless integration of dynamic elements, enhancing the overall gameplay experience.

## Optimizing Performance with Frustum and Occlusion Culling

To further optimize the rendering process, I have implemented frustum and occlusion culling techniques. Frustum culling eliminates the need to render triangles that fall outside the view frustum, reducing unnecessary computations. This approach significantly improves performance by focusing only on the visible parts of the voxel mesh.

Occlusion culling takes the optimization a step further by excluding triangles that are occluded by other objects in the scene. By determining which parts of the mesh are not visible due to occlusion, I can further reduce the GPU workload, allowing for smoother gameplay and improved frame rates.

## Conclusion

In Meor, I have implemented the Naive Surface Nets algorithm on the GPU, enabling efficient voxel meshing for my game's smooth terrain rendering. By harnessing the power of parallel processing, I can generate triangles for each voxel in parallel, resulting in visually appealing and dynamic terrain.

Additionally, the use of frustum and occlusion culling techniques further optimizes performance by excluding unnecessary computations and reducing the workload on the GPU. This ensures a smooth gameplay experience and improved frame rates even with highly dynamic terrain.

The implementation of Naive Surface Nets on the GPU has been a significant step forward for Meor, allowing for a more immersive and visually stunning voxel-based game. As I continue to explore and refine voxel meshing techniques, I am excited to see how these advancements will enhance the gameplay and create a more captivating experience for players.
 
